// Feb 17, 17
//
// Display in text, decimal value of ascii, hexa value of ascii.
/*
dguai:~/workspace/SamsTY_C/ch17 $ ./a.out
enter filename:copyFiles.c
//Feb 17, 17
//
//Demonstration of feof().
//
/*
Enter old file name:temp.txt
Enter new file name:abcd
dguai:~/workspace/SamsTY_
474770101983249554432495510474710474768101109111110115116114971161051111103211110232102101111102404146104747104742106911011610111432111108100321021051081013211097109101581161011091124611612011610691101161011143211010111932102105108101321109710910158979899100101001031179710558126471191111141071151129799101478397109115848995
2f2f4665622031372c203137a2f2fa2f2f44656d6f6e7374726174696f6e206f662066656f6628292ea2f2fa2f2aa456e746572206f6c642066696c65206e616d653a74656d702e747874a456e746572206e65772066696c65206e616d653a61626364a64677561693a7e2f776f726b73706163652f53616d7354595f
C/ch17 $ cat temp.txt
abcdefghijklmnopqrstuvwxyz
dguai:~/workspace/SamsTY_C/ch17 $ cat abcd
abcdefghijklmnopqrstuvwxyz
*/

#incl
6747991044955323632999711632116101109112461161201161097989910010110210310410510610710810911011111211311411511611711811912012112210100103117971055812647119111114107115112979910147839710911584899567479910449553236329997116329798991001097989910010110210310410510610710810911011111211311411511611711811912012112210424710103510511099108
432f636831372024206361742074656d702e747874a6162636465666768696a6b6c6d6e6f707172737475767778797aa64677561693a7e2f776f726b73706163652f53616d7354595f432f636831372024206361742061626364a6162636465666768696a6b6c6d6e6f707172737475767778797aa2a2faa23696e636c
ude <stdio.h>
#include <stdlib.h>

void copyFile( char *, char *);

int
main(void)
{
    char newFileName[20], oldFileName[20];

11710010132601151161001051114610462103510511099108117100101326011511610010810598461046210101181111051003299111112121701051081014032991049711432424432991049711432424159101010511011610109971051104011811110510041101231032323232991049711432110101119701051081017897109101915048934432111108100701051081017897109101915048935910
756465203c737464696f2e683ea23696e636c756465203c7374646c69622e683eaa766f696420636f707946696c65282063686172202a2c2063686172202a293baa696e74a6d61696e28766f696429a7ba2020202063686172206e657746696c654e616d655b32305d2c206f6c6446696c654e616d655b32305d3ba
    
    printf("Enter old file name:" );
    scanf("%s", oldFileName);
    printf("Enter new file name:" );
    scanf("%s", new
323232321032323232112114105110116102403469110116101114321111081003210210510810132110971091015834324159103232323211599971101024034371153444321111081007010510810178971091014159103232323211211410511011610240346911011610111432110101119321021051081013211097109101583432415910323232321159997110102403437115344432110101119
20202020a202020207072696e74662822456e746572206f6c642066696c65206e616d653a2220293ba202020207363616e6628222573222c206f6c6446696c654e616d65293ba202020207072696e74662822456e746572206e65772066696c65206e616d653a2220293ba202020207363616e6628222573222c206e6577
FileName);
    
    copyFile(oldFileName,newFileName);
    
    return 0;
}

void
copyFile( char *oldFileName, char *newFileName
70105108101789710910141591032323232103232323299111112121701051081014011110810070105108101789710910144110101119701051081017897109101415910323232321032323232114101116117114110324859101251010118111105100109911111212170105108101403299104971143242111108100701051081017897109101443299104971143242110101119701051081017897109101
46696c654e616d65293ba20202020a20202020636f707946696c65286f6c6446696c654e616d652c6e657746696c654e616d65293ba20202020a2020202072657475726e20303ba7daa766f6964a636f707946696c65282063686172202a6f6c6446696c654e616d652c2063686172202a6e657746696c654e616d65
)
{
    FILE *of, *nf;
    
    if ( (of = fopen(oldFileName,"rb")) == NULL ){  //<==Doesn't matter if binary or no binary.
    
4110123103232323270737669324211110244324211010259103232323210323232321051023240324011110232613210211111210111040111108100701051081017897109101443411498344141326161327885767632411233232474760616168111101115110391163210997116116101114321051023298105110971141213211111432110111329810511097114121461032323232
29a7ba2020202046494c45202a6f662c202a6e663ba20202020a202020206966202820286f66203d20666f70656e286f6c6446696c654e616d652c227262222929203d3d204e554c4c20297b20202f2f3c3d3d446f65736e2774206d61747465722069662062696e617279206f72206e6f2062696e6172792ea20202020
    fprintf( stderr, "failed opening %s.\n", oldFileName);
        exit(1);
    }
    
    if ( (nf = fopen(newFileName,"wb")) =
32323232102112114105110116102403211511610010111411444323410297105108101100321111121011101051101033237115469211034443211110810070105108101789710910141591032323232323232321011201051164049415910323232321251032323232103232323210510232403240110102326132102111112101110401101011197010510810178971091014434119983441413261
20202020667072696e746628207374646572722c20226661696c6564206f70656e696e672025732e5c6e222c206f6c6446696c654e616d65293ba2020202020202020657869742831293ba202020207da20202020a202020206966202820286e66203d20666f70656e286e657746696c654e616d652c227762222929203d
= NULL ){
        fprintf( stderr, "failed opening %s.\n", oldFileName);
        exit(1);
    }
    while( 1 ){
        int c;
 
613278857676324112310323232323232323210211211410511011610240321151161001011141144432341029710510810110032111112101110105110103323711546921103444321111081007010510810178971091014159103232323232323232101120105116404941591032323232125103232323211910410510810140324932411231032323232323232321051101163299591032
3d204e554c4c20297ba2020202020202020667072696e746628207374646572722c20226661696c6564206f70656e696e672025732e5c6e222c206f6c6446696c654e616d65293ba2020202020202020657869742831293ba202020207da202020207768696c6528203120297ba2020202020202020696e7420633ba20
       
        c = fgetc(of);
        
        if( !feof(of) )  //<==== Very important check. Otherwise last character of the f
323232323232321032323232323232329932613210210310111699401111024159103232323232323232103232323232323232105102403233102101111102401111024132413232474760616161613286101114121321051091121111141169711011632991041019910746327911610410111411910511510132108971151163299104971149799116101114321111023211610410132102
20202020202020a202020202020202063203d206667657463286f66293ba2020202020202020a2020202020202020696628202166656f66286f6629202920202f2f3c3d3d3d3d205665727920696d706f7274616e7420636865636b2e204f7468657277697365206c61737420636861726163746572206f66207468652066
ile would look funny.
            fputc( c, nf );
        
        else
            break;  //Avoid writing EOF character.  It i
1051081013211911111710810032108111111107321021171101101214610323232323232323232323232102112117116994032994432110102324159103232323232323232103232323232323232101108115101103232323232323232323232329811410197107593232474765118111105100321191141051161051101033269797032991049711497991161011144632327311632105
696c6520776f756c64206c6f6f6b2066756e6e792ea20202020202020202020202066707574632820632c206e6620293ba2020202020202020a2020202020202020656c7365a202020202020202020202020627265616b3b20202f2f41766f69642077726974696e6720454f46206368617261637465722e202049742069
s a funny looking char.
        
        //fputc returns a value that is written.
        
        //printf("fputc return value 
115329732102117110110121321081111111071051101033299104971144610323232323232323210323232323232323247471021121171169932114101116117114110115329732118971081171013211610497116321051153211911410511611610111046103232323232323232103232323232323232474711211410511011610240341021121171169932114101116117114110321189710811710132
7320612066756e6e79206c6f6f6b696e6720636861722ea2020202020202020a20202020202020202f2f66707574632072657475726e7320612076616c75652074686174206973207772697474656e2ea2020202020202020a20202020202020202f2f7072696e7466282266707574632072657475726e2076616c756520
= %c\n", j);
        //c = fgetc(of);
        
        //fputc( c, nf);
    }

    
    fclose(of);
    fclose(nf);
}

61323799921103444321064159103232323232323232474799326132102103101116994011110241591032323232323232321032323232323232324747102112117116994032994432110102415910323232321251010323232321032323232102991081111151014011110241591032323232102991081111151014011010241591012510
3d2025635c6e222c206a293ba20202020202020202f2f63203d206667657463286f66293ba2020202020202020a20202020202020202f2f66707574632820632c206e66293ba202020207daa20202020a2020202066636c6f7365286f66293ba2020202066636c6f7365286e66293ba7da
dguai:~/workspace/SamsTY_C/ch17 $ 
*/
#include <stdio.h>
#include <stdlib.h>

int
main(void)
{
    char fileName[40], buffer[128];
    FILE *fp;
    
    printf( "enter filename:");
    scanf("%s", fileName );
    
    if ((fp = fopen(fileName,"r")) == NULL ){
        fprintf( stderr, "cannot open %s\n", fileName);
        exit(1);
    }
    
    while(1){
        int i;
        int j;
        
        j = fread( buffer, sizeof(char) ,128, fp); 
  
        for( i = 0; i < j; i++ )
            printf( "%c", buffer[i] );
        printf("\n");
            
        for( i = 0; i < j; i++ )
            printf( "%d", buffer[i] );
        printf("\n");
        
        for( i = 0; i < j; i++ )
            printf( "%x", buffer[i] );
        printf("\n");
        
        if (feof(fp)) break;
    }
            
    close(fp);

    return 0;
}